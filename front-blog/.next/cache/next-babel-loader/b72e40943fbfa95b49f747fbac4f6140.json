{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/wenhaoming/Desktop/practise/react_blog/front-blog/pages/list/[id].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport \"../../static/style/global/comm.less\";\nimport \"../../static/style/pages/Home.less\";\nimport \"../../static/style/components/md.less\";\nimport Head from \"next/head\";\nimport { Row, Col, List, Breadcrumb } from \"antd\";\nimport { CalendarOutlined, FolderOutlined, FireOutlined } from \"@ant-design/icons\";\nimport { getArticleList } from \"../../api/index\";\nimport { useRouter } from 'next/router';\nimport marked from 'marked';\nimport hljs from \"highlight.js\";\nimport 'highlight.js/styles/monokai-sublime.css';\nimport Header from \"../../components/Header.js\";\nimport Author from \"../../components/Author.js\";\nimport Footer from \"../../components/Footer.js\";\n\nfunction ContentList(_ref) {\n  _s();\n\n  var _marked$setOptions,\n      _this = this;\n\n  var listContent = _ref.listContent;\n\n  var _useState = useState(listContent),\n      mylist = _useState[0],\n      setMylist = _useState[1];\n\n  var router = useRouter();\n  useEffect(function () {\n    setMylist(listContent);\n  }, [listContent]);\n  var renderer = new marked.Renderer();\n  marked.setOptions((_marked$setOptions = {\n    renderer: renderer,\n    gfm: true,\n    pedantic: false,\n    sanitize: false,\n    tables: true,\n    breaks: false,\n    smartLists: true,\n    smartypants: false\n  }, _defineProperty(_marked$setOptions, \"sanitize\", false), _defineProperty(_marked$setOptions, \"xhtml\", false), _defineProperty(_marked$setOptions, \"highlight\", function highlight(code) {\n    return hljs.highlightAuto(code).value;\n  }), _marked$setOptions));\n\n  var header = __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, __jsx(Breadcrumb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, __jsx(Breadcrumb.Item, {\n    onClick: function onClick() {\n      return router.push('/');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }\n  }, \"\\u9996\\u9875\")), __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"\\u89C6\\u9891\\u5217\\u8868\")), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"\\u6700\\u65B0\\u65E5\\u5FD7\"));\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Home\"), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1, maximum-scale=1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  })), __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), __jsx(Row, {\n    className: \"home-main\",\n    type: \"flex\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    className: \"home-main-left\",\n    xs: 23,\n    sm: 23,\n    md: 16,\n    lg: 16,\n    xl: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(List, {\n    dataSource: mylist,\n    itemLayout: \"vertical\",\n    header: header,\n    renderItem: function renderItem(item) {\n      return __jsx(List.Item, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        className: \"list-title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, item.title), __jsx(\"div\", {\n        className: \"list-sub-title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"sub-item\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, __jsx(CalendarOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }), __jsx(\"span\", {\n        className: \"sub-txt\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }, item.addTime)), __jsx(\"div\", {\n        className: \"sub-item\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, __jsx(FolderOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }), __jsx(\"span\", {\n        className: \"sub-txt\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }, item.typeName)), __jsx(\"div\", {\n        className: \"sub-item\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }\n      }, __jsx(FireOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }), __jsx(\"span\", {\n        className: \"sub-txt\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, item.view_count))), __jsx(\"div\", {\n        className: \"list-context\",\n        dangerouslySetInnerHTML: {\n          __html: marked(item.introduce)\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), __jsx(Col, {\n    className: \"home-main-right\",\n    xs: 0,\n    sm: 0,\n    md: 5,\n    lg: 5,\n    xl: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, __jsx(Author, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(ContentList, \"UJ6m4cirDEZGc56I4BpqCw/8X+A=\", false, function () {\n  return [useRouter];\n});\n\n_c = ContentList;\n\nContentList.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var id, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = context.query.id;\n            _context.next = 3;\n            return getArticleList(id);\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt(\"return\", {\n              listContent: res.data.data || []\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default ContentList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContentList\");","map":{"version":3,"sources":["/Users/wenhaoming/Desktop/practise/react_blog/front-blog/pages/list/[id].js"],"names":["React","useState","useEffect","Head","Row","Col","List","Breadcrumb","CalendarOutlined","FolderOutlined","FireOutlined","getArticleList","useRouter","marked","hljs","Header","Author","Footer","ContentList","listContent","mylist","setMylist","router","renderer","Renderer","setOptions","gfm","pedantic","sanitize","tables","breaks","smartLists","smartypants","code","highlightAuto","value","header","push","item","title","addTime","typeName","view_count","__html","introduce","getInitialProps","context","id","query","res","data"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA;AACA;AACA;AAEA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,UAAzB,QAA2C,MAA3C;AACA,SACEC,gBADF,EAEEC,cAFF,EAGEC,YAHF,QAIO,mBAJP;AAKA,SAAQC,cAAR;AACA,SAAQC,SAAR,QAAwB,aAAxB;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAO,yCAAP;AAEA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;;AAEA,SAASC,WAAT,OAAoC;AAAA;;AAAA;AAAA;;AAAA,MAAdC,WAAc,QAAdA,WAAc;;AAAA,kBAENlB,QAAQ,CAACkB,WAAD,CAFF;AAAA,MAE3BC,MAF2B;AAAA,MAEnBC,SAFmB;;AAGlC,MAAMC,MAAM,GAAGV,SAAS,EAAxB;AAEDV,EAAAA,SAAS,CAAC,YAAI;AACbmB,IAAAA,SAAS,CAACF,WAAD,CAAT;AACA,GAFQ,EAEP,CAACA,WAAD,CAFO,CAAT;AAIA,MAAMI,QAAQ,GAAG,IAAIV,MAAM,CAACW,QAAX,EAAjB;AACAX,EAAAA,MAAM,CAACY,UAAP;AACEF,IAAAA,QAAQ,EAAEA,QADZ;AAEEG,IAAAA,GAAG,EAAE,IAFP;AAGEC,IAAAA,QAAQ,EAAE,KAHZ;AAIEC,IAAAA,QAAQ,EAAE,KAJZ;AAKEC,IAAAA,MAAM,EAAE,IALV;AAMEC,IAAAA,MAAM,EAAE,KANV;AAOEC,IAAAA,UAAU,EAAE,IAPd;AAQEC,IAAAA,WAAW,EAAE;AARf,qDASW,KATX,gDAUS,KAVT,oDAWa,mBAAUC,IAAV,EAAgB;AACnB,WAAOnB,IAAI,CAACoB,aAAL,CAAmBD,IAAnB,EAAyBE,KAAhC;AACP,GAbH;;AAiBC,MAAIC,MAAM,GACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD,CAAY,IAAZ;AAAkB,IAAA,OAAO,EAAE;AAAA,aAAId,MAAM,CAACe,IAAP,CAAY,GAAZ,CAAJ;AAAA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADH,CADF,EAIE,MAAC,UAAD,CAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAJF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAPF,CADF;;AAYA,SACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,OAAO,EAAC,sDAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAQE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,WAAf;AAA2B,IAAA,IAAI,EAAC,MAAhC;AAAuC,IAAA,OAAO,EAAC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,EAAE,EAAE,EAApC;AAAwC,IAAA,EAAE,EAAE,EAA5C;AAAgD,IAAA,EAAE,EAAE,EAApD;AAAwD,IAAA,EAAE,EAAE,EAA5D;AAAgE,IAAA,EAAE,EAAE,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AACE,IAAA,UAAU,EAAEjB,MADd;AAEE,IAAA,UAAU,EAAC,UAFb;AAGE,IAAA,MAAM,EAAEgB,MAHV;AAIE,IAAA,UAAU,EAAE,oBAACE,IAAD;AAAA,aACV,MAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BA,IAAI,CAACC,KAAhC,CADF,EAEE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BD,IAAI,CAACE,OAAhC,CAFF,CADF,EAKE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BF,IAAI,CAACG,QAAhC,CAFF,CALF,EASE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BH,IAAI,CAACI,UAAhC,CAFF,CATF,CAFF,EAgBE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA+B,QAAA,uBAAuB,EAAE;AAACC,UAAAA,MAAM,EAAC9B,MAAM,CAACyB,IAAI,CAACM,SAAN;AAAd,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBF,CADU;AAAA,KAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EA4BE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,EAAE,EAAE,CAArC;AAAwC,IAAA,EAAE,EAAE,CAA5C;AAA+C,IAAA,EAAE,EAAE,CAAnD;AAAsD,IAAA,EAAE,EAAE,CAA1D;AAA6D,IAAA,EAAE,EAAE,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA5BF,CATF,EAyCE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzCF,CADF;AA6CD;;GApFQ1B,W;UAGQN,S;;;KAHRM,W;;AAsFTA,WAAW,CAAC2B,eAAZ;AAAA,uEAA8B,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAEtBC,YAAAA,EAFsB,GAEjBD,OAAO,CAACE,KAAR,CAAcD,EAFG;AAAA;AAAA,mBAITpC,cAAc,CAACoC,EAAD,CAJL;;AAAA;AAItBE,YAAAA,GAJsB;AAAA,6CAKnB;AAAC9B,cAAAA,WAAW,EAAC8B,GAAG,CAACC,IAAJ,CAASA,IAAT,IAAe;AAA5B,aALmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA9B;;AAAA;AAAA;AAAA;AAAA;;AAQA,eAAehC,WAAf","sourcesContent":["import React, { useState,useEffect } from \"react\";\nimport \"styleGlobal/comm.less\";\nimport \"stylePages/Home.less\";\nimport 'styleComp/md.less'\n\nimport Head from \"next/head\";\nimport { Row, Col, List, Breadcrumb } from \"antd\";\nimport {\n  CalendarOutlined,\n  FolderOutlined,\n  FireOutlined,\n} from \"@ant-design/icons\";\nimport {getArticleList} from '../../api/index'\nimport {useRouter} from 'next/router'\n\nimport marked from 'marked'\nimport hljs from \"highlight.js\";\nimport 'highlight.js/styles/monokai-sublime.css';\n\nimport Header from \"comp/Header.js\";\nimport Author from \"comp/Author.js\";\nimport Footer from \"comp/Footer.js\";\n\nfunction ContentList({listContent}) {\n\n  const [mylist, setMylist] = useState(listContent);\n  const router = useRouter()\n\n useEffect(()=>{\n  setMylist(listContent)\n },[listContent])\n  \n const renderer = new marked.Renderer();\n marked.setOptions({\n   renderer: renderer,\n   gfm: true,\n   pedantic: false,\n   sanitize: false,\n   tables: true,\n   breaks: false,\n   smartLists: true,\n   smartypants: false,\n   sanitize:false,\n   xhtml: false,\n   highlight: function (code) {\n           return hljs.highlightAuto(code).value;\n   }\n }); \n\n\n  let header = (\n    <div>\n      <Breadcrumb>\n        <Breadcrumb.Item  onClick={()=>router.push('/')} >\n           <a >首页</a> \n        </Breadcrumb.Item>\n        <Breadcrumb.Item>视频列表</Breadcrumb.Item>\n      </Breadcrumb>\n      <span>最新日志</span>\n    </div>\n  );\n\n  return (\n    <>\n      <Head>\n        <title>Home</title>\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n        ></meta>\n      </Head>\n      <Header />\n      <Row className=\"home-main\" type=\"flex\" justify=\"center\">\n        <Col className=\"home-main-left\" xs={23} sm={23} md={16} lg={16} xl={16}>\n          <List\n            dataSource={mylist}\n            itemLayout=\"vertical\"\n            header={header}\n            renderItem={(item) => (\n              <List.Item>\n                <a className=\"list-title\">{item.title}</a>\n                <div className=\"list-sub-title\">\n                  <div className=\"sub-item\">\n                    <CalendarOutlined />\n                    <span className=\"sub-txt\">{item.addTime}</span>\n                  </div>\n                  <div className=\"sub-item\">\n                    <FolderOutlined />\n                    <span className=\"sub-txt\">{item.typeName}</span>\n                  </div>\n                  <div className=\"sub-item\">\n                    <FireOutlined />\n                    <span className=\"sub-txt\">{item.view_count}</span>\n                  </div>\n                </div>\n                <div className=\"list-context\"  dangerouslySetInnerHTML={{__html:marked(item.introduce)}}></div>\n              </List.Item>\n            )}\n          ></List>\n        </Col>\n        <Col className=\"home-main-right\" xs={0} sm={0} md={5} lg={5} xl={5}>\n          <Author></Author>\n        </Col>\n      </Row>\n      <Footer />\n    </>\n  );\n}\n\nContentList.getInitialProps = async (context)=>{\n     \n    let id = context.query.id\n\n    let res =  await getArticleList(id)\n    return {listContent:res.data.data||[]}\n}\n\nexport default ContentList"]},"metadata":{},"sourceType":"module"}