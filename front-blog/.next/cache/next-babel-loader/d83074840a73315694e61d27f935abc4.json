{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Reac, { useEffect, useState, useMemo } from 'react'; // import 'static/style/components/header.less'\n\nimport \"../static/style/components/header.less\";\nimport { Row, Col, Menu, Icon, Button } from 'antd';\nimport { HomeOutlined, VideoCameraOutlined, SmileTwoTone, CoffeeOutlined } from '@ant-design/icons';\nimport { getTypeInfo } from \"../api/index\";\nimport { useRouter } from 'next/router';\n\nfunction useProxy(initialState) {\n  const {\n    0: state,\n    1: setState\n  } = useState(initialState);\n  let proxyState = useMemo(() => {\n    let proxyState = new Proxy(initialState, {\n      set(target, name, value, property) {\n        setState({});\n        return Reflect.set(target, name, value, property);\n      },\n\n      get(target, name, property) {\n        return Reflect.get(target, name, property);\n      }\n\n    });\n    return proxyState;\n  }, []);\n  return [proxyState, state];\n}\n\nconst Header = () => {\n  const {\n    0: types,\n    1: setTypes\n  } = useState([]);\n  let [proxyState, state] = useProxy({\n    count: 0\n  });\n  const router = useRouter();\n  useEffect(() => {\n    const getTypeInfoFn = async () => {\n      return await getTypeInfo();\n    };\n\n    getTypeInfoFn().then(res => {\n      console.log(res.data);\n      setTypes(res.data);\n    });\n  }, []);\n\n  function getIcon(key) {\n    switch (key) {\n      case 1:\n        return __jsx(VideoCameraOutlined, null);\n\n      case 2:\n        return __jsx(CoffeeOutlined, null);\n\n      case 3:\n        return __jsx(SmileTwoTone, null);\n\n      default:\n        return __jsx(VideoCameraOutlined, null);\n    }\n  }\n\n  return __jsx(\"div\", {\n    className: \"header\"\n  }, __jsx(Row, {\n    type: \"flex\",\n    justify: \"center\"\n  }, __jsx(Col, {\n    offset: 0.5,\n    xs: 17,\n    sm: 17,\n    md: 14,\n    lg: 14,\n    xl: 14\n  }, __jsx(\"span\", {\n    className: \"header-logo\"\n  }, \"\\u5C0F\\u660E\"), __jsx(\"span\", {\n    className: \"header-txt\"\n  }, \"\\u4E13\\u6CE8\\u524D\\u7AEF\")), __jsx(Col, {\n    xs: 5,\n    sm: 5,\n    md: 7,\n    lg: 7,\n    xl: 7\n  }, __jsx(Menu, {\n    mode: \"horizontal\"\n  }, __jsx(Menu.Item, {\n    key: \"/\",\n    onClick: () => router.push('/')\n  }, __jsx(HomeOutlined, null), \"\\u9996\\u9875\"), types.map(item => {\n    return __jsx(Menu.Item, {\n      key: item.orderNum,\n      onClick: () => router.push('/list/[id]', `/list/${item.orderNum}`)\n    }, getIcon(item.orderNum), item.typeName);\n  })))));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}